package controllers

import com.redis._
import play.api.mvc._
import models._
import play.api.libs.json._
import utils.Implicits._

class Application extends Controller {
  def index = Action {
    val client = new RedisClient("localhost", 6379) // Todo : Throws exception, handle.
    val specList = client.hgetall("List").get // Todo : getOrElse
    val res = specList.map{ tuple =>
      val tm
      SpecElement(tuple._1, tuple._2.toBoolean, tuple._3.toInt)
    }

    Ok(Json.toJson(res.toList)) // Todo: exception handling
  }
}
